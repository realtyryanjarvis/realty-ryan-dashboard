<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>626 Shelton St — Interactive Floor Plan</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#f8f7f6;--primary:#201408;--copper:#793315;--border:#ded9d3;--muted:#7b7269;--panel-width:420px}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--primary);overflow:hidden;height:100vh;height:100dvh;display:flex;flex-direction:column}
h1,h2,h3{font-family:'Playfair Display',serif}

/* Header */
.header{text-align:center;padding:16px 20px 12px;border-bottom:1px solid var(--border);flex-shrink:0;position:relative;z-index:10;background:var(--bg)}
.header h1{font-size:1.4rem;letter-spacing:.15em;font-weight:700;color:var(--primary)}
.header p{font-size:.75rem;color:var(--muted);letter-spacing:.08em;text-transform:uppercase;margin-top:2px}

/* Floor tabs */
.floor-tabs{display:flex;justify-content:center;gap:0;padding:0 20px;flex-shrink:0;background:var(--bg);border-bottom:1px solid var(--border)}
.floor-tab{padding:10px 24px;font-size:.8rem;font-weight:500;letter-spacing:.06em;text-transform:uppercase;color:var(--muted);border:none;background:none;cursor:pointer;border-bottom:2px solid transparent;transition:all .3s}
.floor-tab.active{color:var(--copper);border-bottom-color:var(--copper)}
.floor-tab:hover{color:var(--primary)}

/* Tour bar */
.tour-bar{display:flex;align-items:center;justify-content:center;gap:12px;padding:8px 20px;flex-shrink:0;background:var(--bg);border-bottom:1px solid var(--border)}
.tour-btn{padding:8px 20px;font-size:.75rem;font-weight:600;letter-spacing:.06em;text-transform:uppercase;border:1.5px solid var(--copper);color:var(--copper);background:none;border-radius:4px;cursor:pointer;transition:all .3s;font-family:'Inter',sans-serif}
.tour-btn:hover,.tour-btn.active{background:var(--copper);color:#fff}
.tour-progress{font-size:.75rem;color:var(--muted);min-width:80px;text-align:center;display:none}
.tour-progress.show{display:block}

/* Floor plan area */
.plan-container{flex:1;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}
.plan-wrapper{position:relative;max-width:100%;max-height:100%;display:flex;align-items:center;justify-content:center}
.plan-wrapper img{max-width:100%;max-height:100%;object-fit:contain;display:block;user-select:none;-webkit-user-drag:none}
.floor{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;transition:opacity .4s;pointer-events:none;opacity:0}
.floor.active{opacity:1;pointer-events:auto}

/* Hotspots */
.hotspot{position:absolute;width:28px;height:28px;transform:translate(-50%,-50%);cursor:pointer;z-index:5}
.hotspot .dot{width:14px;height:14px;background:var(--copper);border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 0 0 0 rgba(121,51,21,.4);transition:transform .2s}
.hotspot .pulse{position:absolute;inset:0;border-radius:50%;border:2px solid var(--copper);opacity:0;animation:pulse 2.5s ease-out infinite}
@keyframes pulse{0%{transform:scale(.6);opacity:.7}100%{transform:scale(1.4);opacity:0}}
.hotspot:hover .dot,.hotspot.active .dot{transform:translate(-50%,-50%) scale(1.3);box-shadow:0 0 12px rgba(121,51,21,.5)}
.hotspot .label{position:absolute;bottom:calc(100% + 4px);left:50%;transform:translateX(-50%);white-space:nowrap;font-size:.6rem;font-weight:600;letter-spacing:.04em;text-transform:uppercase;color:var(--primary);background:rgba(248,247,246,.92);padding:2px 6px;border-radius:3px;opacity:0;transition:opacity .2s;pointer-events:none}
.hotspot:hover .label,.hotspot.active .label{opacity:1}

/* Detail panel */
.overlay{position:fixed;inset:0;background:rgba(32,20,8,.3);z-index:50;opacity:0;pointer-events:none;transition:opacity .3s}
.overlay.open{opacity:1;pointer-events:auto}
.detail-panel{position:fixed;z-index:51;background:var(--bg);overflow-y:auto;transition:transform .35s cubic-bezier(.4,0,.2,1);overscroll-behavior:contain}
/* Mobile: bottom sheet */
@media(max-width:768px){
  .detail-panel{bottom:0;left:0;right:0;max-height:85vh;border-radius:16px 16px 0 0;transform:translateY(100%);box-shadow:0 -4px 30px rgba(0,0,0,.15)}
  .detail-panel.open{transform:translateY(0)}
  .detail-panel .handle{display:block}
}
/* Desktop: side panel */
@media(min-width:769px){
  .detail-panel{top:0;right:0;bottom:0;width:var(--panel-width);transform:translateX(100%);box-shadow:-4px 0 30px rgba(0,0,0,.1)}
  .detail-panel.open{transform:translateX(0)}
  .detail-panel .handle{display:none}
}
.handle{width:40px;height:4px;background:var(--border);border-radius:2px;margin:10px auto 0}
.panel-close{position:absolute;top:12px;right:16px;width:32px;height:32px;border:none;background:none;cursor:pointer;font-size:1.2rem;color:var(--muted);z-index:2;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}
.panel-close:hover{background:var(--border)}
.panel-content{padding:20px 24px 30px}
.panel-content .room-name{font-size:1.5rem;font-weight:700;margin-bottom:4px}
.panel-content .room-floor{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-bottom:16px}
.render-wrap{width:100%;aspect-ratio:16/10;background:linear-gradient(135deg,#e8e4df,#d5cfc8);border-radius:8px;overflow:hidden;margin-bottom:16px;position:relative;display:flex;align-items:center;justify-content:center}
.render-wrap img{width:100%;height:100%;object-fit:cover}
.render-placeholder{text-align:center;padding:20px;color:var(--muted)}
.render-placeholder .icon{font-size:2rem;margin-bottom:8px;opacity:.4}
.render-placeholder .name{font-family:'Playfair Display',serif;font-size:1rem;font-weight:600}
.panel-content .desc{font-size:.88rem;line-height:1.65;color:#4a3f35;margin-bottom:20px}
.nav-buttons{display:flex;gap:10px}
.nav-btn{flex:1;padding:12px;font-size:.78rem;font-weight:600;letter-spacing:.04em;text-transform:uppercase;border:1.5px solid var(--border);background:none;color:var(--primary);border-radius:6px;cursor:pointer;transition:all .2s;font-family:'Inter',sans-serif}
.nav-btn.next{background:var(--copper);color:#fff;border-color:var(--copper)}
.nav-btn:hover{opacity:.85}
.nav-btn:disabled{opacity:.3;cursor:default}
</style>
</head>
<body>

<div class="header">
  <h1>626 SHELTON ST</h1>
  <p>Interactive Floor Plan</p>
</div>

<div class="floor-tabs">
  <button class="floor-tab active" onclick="switchFloor(0)">First Floor</button>
  <button class="floor-tab" onclick="switchFloor(1)">Second Floor</button>
</div>

<div class="tour-bar">
  <button class="tour-btn" id="tourToggle" onclick="toggleTour()">Start Tour</button>
  <span class="tour-progress" id="tourProgress"></span>
</div>

<div class="plan-container">
  <div class="floor active" id="floor0">
    <div class="plan-wrapper" id="wrap0">
      <img src="images/approved-first-floor-plan-detailed.jpg" alt="First Floor Plan" draggable="false">
    </div>
  </div>
  <div class="floor" id="floor1">
    <div class="plan-wrapper" id="wrap1">
      <img src="images/approved-second-floor-plan-detailed.jpg" alt="Second Floor Plan" draggable="false">
    </div>
  </div>
</div>

<div class="overlay" id="overlay" onclick="closePanel()"></div>
<div class="detail-panel" id="panel">
  <div class="handle"></div>
  <button class="panel-close" onclick="closePanel()">✕</button>
  <div class="panel-content" id="panelContent"></div>
</div>

<script>
const rooms = [
  {name:"Front Entry",floor:0,x:17,y:48,desc:"Herringbone brick courtyard, natural wood door with glass panels, stacked stone + painted cream brick.",img:"renders/exterior.png"},
  {name:"Wine Room",floor:0,x:21,y:54,desc:"Dedicated wine storage and display room nestled between the entry and great room. A curated collection space with temperature control and moody ambiance.",img:"renders/wine-room.png"},
  {name:"Dining",floor:0,x:17,y:22,desc:"Formal dining with 10' ceilings — a gracious setting for entertaining.",img:"renders/dining.png"},
  {name:"Scullery",floor:0,x:26,y:20,desc:"Soapstone counters, black sink, white zellige backsplash, and brass fixtures. The working kitchen behind the kitchen.",img:"renders/scullery.png"},
  {name:"Friends Entry",floor:0,x:33,y:18,desc:"Secondary informal entry — drop your keys, kick off your shoes.",img:null},
  {name:"Kitchen",floor:0,x:31,y:33,desc:"Calacatta marble counters, chevron backsplash, farmhouse sink with brass bridge faucet, ash grey oak island beneath a soaring 2-story volume.",img:"renders/kitchen.png"},
  {name:"Powder Bath",floor:0,x:35,y:18,desc:"Black zellige walls, marble vanity, polished brass wall-mount faucet, alabaster sconces, and an oval brass mirror. A jewel box.",img:"renders/powder-bath.png"},
  {name:"Utility / Drop Zone",floor:0,x:40,y:18,desc:"Moroccan star-cross cement tile, sage green (SW Taiga) cubbies, and brass hooks. Where daily life stays organized.",img:"renders/utility-drop.png"},
  {name:"Gallery",floor:0,x:40,y:58,desc:"Central hallway connecting the home's living spaces — brass picture lights illuminate curated art displays.",img:"renders/gallery.png"},
  {name:"Study",floor:0,x:18,y:70,desc:"Charcoal-green grasscloth walls, brass + glass sputnik chandelier. A moody library retreat.",img:"renders/study.png"},
  {name:"Great Room",floor:0,x:28,y:52,desc:"The heart of the home — 2-story volume with 9' beams, dormer windows flooding light, open to the kitchen.",img:"renders/great-room.png"},
  {name:"Guest Suite",floor:0,x:29,y:68,desc:"First-floor guest bedroom with 12' ceilings and en-suite bath. True privacy for visitors.",img:"renders/guest-suite.png"},
  {name:"Bath 2",floor:0,x:30,y:80,desc:"Navy blue shower tile, Storm Cloud walls, marble basketweave floor, and nickel fixtures. Bold and refined.",img:"renders/bath2-guest.png"},
  {name:"Primary Suite",floor:0,x:55,y:75,desc:"Vaulted ceiling with dormers, first-floor master. A serene retreat with abundant natural light.",img:"renders/primary-suite.png"},
  {name:"Primary Bath",floor:0,x:48,y:75,desc:"Sculptural freestanding tub, mixed metals, multi-tonal stone floor, and marble vanity. Spa-level indulgence.",img:"renders/primary-bath.png"},
  {name:"Outdoor Living",floor:0,x:58,y:50,desc:"745 SF of covered outdoor living — full outdoor kitchen opening to the pool. The ultimate entertaining space.",img:"renders/outdoor-living.png"},
  {name:"Loft",floor:1,x:25,y:35,desc:"Open to the great room below with 10' ceilings — a versatile living space overlooking the heart of the home.",img:"renders/loft.png"},
  {name:"Bar / Homework",floor:1,x:45,y:25,desc:"Wet bar and study area with 10' ceilings. Homework station by day, cocktail bar by night.",img:null},
  {name:"Bonus Room",floor:1,x:65,y:25,desc:"38'+ long recreation room over the 3-car garage. Media room, playroom, gym — whatever you need.",img:"renders/bonus-room.png"},
  {name:"Bedroom 3",floor:1,x:15,y:25,desc:"Spacious secondary bedroom with 10' ceilings and en-suite bath.",img:null},
  {name:"Bath 3",floor:1,x:15,y:18,desc:"Teal zellige shower tile, terrazzo floor, ash-gray vanity, bronze mirror, and alabaster sconces. Playful yet sophisticated.",img:"renders/bath3.png"},
  {name:"Bedroom 4",floor:1,x:20,y:75,desc:"Generous bedroom with 10' ceilings and en-suite bath.",img:null},
  {name:"Bath 4",floor:1,x:28,y:75,desc:"White marble herringbone — serene and minimal. A clean canvas.",img:"renders/bath4.png"},
  {name:"Bedroom 5",floor:1,x:35,y:75,desc:"Comfortable bedroom with 10' ceilings and en-suite bath.",img:null}
];

let currentFloor=0, tourActive=false, tourIndex=0, panelOpen=false;

function createHotspots(){
  rooms.forEach((r,i)=>{
    const wrap=document.getElementById('wrap'+r.floor);
    const h=document.createElement('div');
    h.className='hotspot';
    h.style.left=r.x+'%';
    h.style.top=r.y+'%';
    h.dataset.index=i;
    h.innerHTML=`<div class="pulse"></div><div class="dot"></div><div class="label">${r.name}</div>`;
    h.addEventListener('click',e=>{e.stopPropagation();openRoom(i)});
    wrap.appendChild(h);
  });
}

function switchFloor(f){
  currentFloor=f;
  document.querySelectorAll('.floor').forEach((el,i)=>el.classList.toggle('active',i===f));
  document.querySelectorAll('.floor-tab').forEach((el,i)=>el.classList.toggle('active',i===f));
}

function openRoom(i){
  const r=rooms[i];
  if(r.floor!==currentFloor)switchFloor(r.floor);
  if(tourActive)tourIndex=i;
  updateProgress();
  document.querySelectorAll('.hotspot').forEach(h=>h.classList.toggle('active',+h.dataset.index===i));
  const floorLabel=r.floor===0?'First Floor — 3,968 SF':'Second Floor — 2,756 SF';
  let imgHtml;
  if(r.img){
    imgHtml=`<div class="render-wrap"><img src="${r.img}" alt="${r.name}" onerror="this.parentElement.innerHTML='<div class=\\'render-placeholder\\'><div class=\\'icon\\'>⬡</div><div class=\\'name\\'>${r.name}</div></div>'"></div>`;
  } else {
    imgHtml=`<div class="render-wrap"><div class="render-placeholder"><div class="icon">⬡</div><div class="name">${r.name}</div></div></div>`;
  }
  const prevI=i>0?i-1:null;
  const nextI=i<rooms.length-1?i+1:null;
  document.getElementById('panelContent').innerHTML=`
    <h2 class="room-name">${r.name}</h2>
    <div class="room-floor">${floorLabel}</div>
    ${imgHtml}
    <p class="desc">${r.desc}</p>
    <div class="nav-buttons">
      <button class="nav-btn" ${prevI===null?'disabled':''}onclick="openRoom(${prevI})">← Prev</button>
      <button class="nav-btn next" ${nextI===null?'disabled':''}onclick="openRoom(${nextI})">Next →</button>
    </div>`;
  document.getElementById('overlay').classList.add('open');
  document.getElementById('panel').classList.add('open');
  panelOpen=true;
}

function closePanel(){
  document.getElementById('overlay').classList.remove('open');
  document.getElementById('panel').classList.remove('open');
  document.querySelectorAll('.hotspot').forEach(h=>h.classList.remove('active'));
  panelOpen=false;
}

function toggleTour(){
  tourActive=!tourActive;
  const btn=document.getElementById('tourToggle');
  btn.textContent=tourActive?'End Tour':'Start Tour';
  btn.classList.toggle('active',tourActive);
  document.getElementById('tourProgress').classList.toggle('show',tourActive);
  if(tourActive){tourIndex=0;openRoom(0)}
  else{updateProgress();closePanel()}
}

function updateProgress(){
  const el=document.getElementById('tourProgress');
  if(tourActive)el.textContent=`Room ${tourIndex+1} of ${rooms.length}`;
}

createHotspots();

// Swipe to close panel on mobile
let touchY=0;
document.getElementById('panel').addEventListener('touchstart',e=>{touchY=e.touches[0].clientY},{passive:true});
document.getElementById('panel').addEventListener('touchmove',e=>{
  if(e.touches[0].clientY-touchY>60&&document.getElementById('panel').scrollTop<=0)closePanel();
},{passive:true});

// Escape key
document.addEventListener('keydown',e=>{if(e.key==='Escape'&&panelOpen)closePanel()});
</script>
</body>
</html>
